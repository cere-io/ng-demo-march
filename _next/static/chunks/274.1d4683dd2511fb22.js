"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{48274:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var s=t(34001),r=t(57749),l=t(13549);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=l.$;var o=t(74466);let d=((e,a)=>t=>{var s;if((null==a?void 0:a.variants)==null)return i(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:r,defaultVariants:l}=a,o=Object.keys(r).map(e=>{let a=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===a)return null;let i=n(a)||n(s);return r[e][i]}),d=t&&Object.entries(t).reduce((e,a)=>{let[t,s]=a;return void 0===s||(e[t]=s),e},{});return i(e,o,null==a?void 0:null===(s=a.compoundVariants)||void 0===s?void 0:s.reduce((e,a)=>{let{class:t,className:s,...r}=a;return Object.entries(r).every(e=>{let[a,t]=e;return Array.isArray(t)?t.includes({...l,...d}[a]):({...l,...d})[a]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)})("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)(d({variant:t}),a),...r})}var h=t(1119);let m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()};var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:d,...c}=e;return(0,r.createElement)("svg",{ref:a,...g,width:s,height:s,stroke:t,strokeWidth:n?24*Number(l)/Number(s):l,className:x("lucide",i),...c},[...d.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(o)?o:[o]])}),p=(e,a)=>{let t=(0,r.forwardRef)((t,s)=>{let{className:l,...n}=t;return(0,r.createElement)(u,{ref:s,iconNode:a,className:x("lucide-".concat(m(e)),l),...n})});return t.displayName="".concat(e),t},f=p("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),b=p("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]),N=p("BatteryCharging",[["path",{d:"M15 7h1a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-2",key:"1sdynx"}],["path",{d:"M6 7H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h1",key:"1gkd3k"}],["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),v=p("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),y=p("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);var j=t(41593),w=t(3865),M=t(30390),D=t(794);let E={latitude:37.524438,longitude:-122.036995},k=(0,w.default)(()=>t.e(55).then(t.bind(t,65055)),{loadableGenerated:{webpack:()=>[65055]},ssr:!1});function A(){let[e,a]=(0,r.useState)([]),[t,l]=(0,r.useState)([]),[n,i]=(0,r.useState)({}),[d,m]=(0,r.useState)("");(0,r.useEffect)(()=>{console.log("[DEBUG Dashboard] Component mounted");let e=()=>{m((0,j.GP)(new Date,"yyyy-MM-dd HH:mm:ss"))};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[]),(0,r.useEffect)(()=>{let e=[{id:"nsf19015",name:"NSF19015",chargingEvents:124,location:"Newark"},{id:"nsf19042",name:"NSF19042",chargingEvents:98,location:"Newark"}];console.log("[DEBUG Dashboard] Setting available drones:",e),l(e),a(["nsf19015","nsf19042"])},[]),(0,r.useEffect)(()=>{if(0===e.length)return;console.log("[DEBUG Dashboard] Selected drones:",e);let a={};e.forEach(e=>{let s=t.find(a=>a.id===e);s&&(console.log("[DEBUG Dashboard] Generating data for drone: ".concat(e)),a[e]=function(e){console.log("[DEBUG] Generating completely separate datasets for drone: ".concat(e.id));let a=[],t=Date.now();for(let e=0;e<10;e++){let s=t-(9-e)*36e5,r=E.latitude+(Math.random()-.5)*.01,l=E.longitude+(Math.random()-.5)*.01;a.push({latitude:r,longitude:l,timestamp:s,missionIndex:e<5?0:1})}let s=[];for(let e=0;e<30;e++){let a,t;let r=Math.floor(e/10),l=e%10/10,n=new Date(2023,5,15,e,0,0).toISOString(),i=e%10==9;a=i?40+10*Math.random():e%10==0?90+5*Math.random():90-50*l+5*Math.random(),t=i?35+5*Math.random():1===r&&l>.5?65+15*l+5*Math.random():35+25*l+5*Math.random(),s.push({timestamp:n,voltage:a,heat:t,isChargingEvent:i})}console.log("[DEBUG] Generated voltage/heat data:",s.length,"points"),console.log("[DEBUG] First point:",s[0]),console.log("[DEBUG] Last point:",s[s.length-1]);let r=[];for(let e=0;e<30;e++){let a,t,s,l;let n=new Date(2023,5,15,e,0,0).toISOString(),i=Math.floor(e/10),o=e%10/10;if(0===i)a=.3+.1*Math.sin(o*Math.PI)+.05*Math.random(),t=.3+.1*Math.cos(o*Math.PI)+.05*Math.random(),s=.8-.1*Math.random(),l=o>.7?.2+.1*Math.random():void 0;else if(1===i){let e=o>.3&&o<.7?(o-.3)*.8:0;a=.35+e+.1*Math.random(),t=.35+e+.1*Math.random(),s=.75-.3*e-.1*Math.random(),l=e>0?.3+.7*e:void 0}else a=.25+.15*Math.sin(o*Math.PI*3)+.05*Math.random(),t=.25+.15*Math.cos(o*Math.PI*2)+.05*Math.random(),s=.85-.15*Math.random(),l=e%3==0?.3+.2*Math.random():void 0;let d=Math.sqrt(a*a+t*t)/Math.sqrt(2);r.push({timestamp:n,xAxis:a,yAxis:t,zAxis:s,totalMagnitude:d,correctionFactor:l})}console.log("[DEBUG] Generated stability data:",r.length,"points"),console.log("[DEBUG] First stability point:",r[0]),console.log("[DEBUG] Last stability point:",r[r.length-1]);let l={points:a.map(e=>({lat:e.latitude,lng:e.longitude,timestamp:new Date(e.timestamp).toISOString(),mission:e.missionIndex||0})),chargingPointIndices:[3,7]};return{droneName:e.name,flightPath:l,voltageHeatData:s,stabilityData:r,hasAnomalies:{voltage:!0,heat:!0,stability:!0}}}(s),console.log("[DEBUG Dashboard] Generated data structure for ".concat(e,":"),{droneName:typeof a[e].droneName,flightPath:typeof a[e].flightPath,voltageHeatData:"Array(".concat(a[e].voltageHeatData.length,")"),stabilityData:"Array(".concat(a[e].stabilityData.length,")"),hasAnomalies:typeof a[e].hasAnomalies}),console.log("[DEBUG Dashboard] Flight path points: ".concat(a[e].flightPath.points.length)),console.log("[DEBUG Dashboard] Voltage/heat data points: ".concat(a[e].voltageHeatData.length)),console.log("[DEBUG Dashboard] Stability data points: ".concat(a[e].stabilityData.length)))}),i(a)},[e,t]);let x=e=>{a(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e].slice(-2))},g=e=>{let a=n[e];if(!a)return!1;let t=a.voltageHeatData[a.voltageHeatData.length-1];return t.voltage<30||t.heat>70},u=e=>{let a=n[e];if(!a)return[];let t=[];for(let e=0;e<a.voltageHeatData.length;e++){let s=a.voltageHeatData[e];(s.voltage<30||s.heat>70||s.isChargingEvent)&&e<a.flightPath.points.length&&t.push({...a.flightPath.points[e],voltage:s.voltage,heat:s.heat,isChargingEvent:s.isChargingEvent})}return t};return(0,s.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[(0,s.jsx)("header",{className:"bg-black px-6 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("img",{src:"https://media.licdn.com/dms/image/v2/C4D0BAQExzmzp3cw4KA/company-logo_200_200/company-logo_200_200/0/1631336589849?e=2147483647&v=beta&t=-ugkTO4c8iGWRNGN0RUBDY3jg6ANrg0k8nphFtIc2uA",alt:"Nightingale Logo",className:"h-16 w-16 object-contain"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold tracking-tight uppercase text-white",children:"Nightingale Real-time Fleet Management System"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Tactical Surveillance System"})]})]}),(0,s.jsxs)("div",{className:"tech-text text-gray-400",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"status-dot status-normal"}),(0,s.jsx)("span",{children:"SYSTEMS NOMINAL"})]}),(0,s.jsx)("div",{className:"text-right",children:d})]})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-6 py-4 flex-1 space-y-6 relative",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)(h.Zp,{className:"tactical-card",children:[(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"text-sm font-medium flex items-center",children:[(0,s.jsx)(f,{className:"h-4 w-4 mr-2"})," ACTIVE DRONE UNITS"]})}),(0,s.jsx)(h.Wu,{className:"p-4",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(a=>(0,s.jsxs)(c,{className:(0,o.cn)("cursor-pointer uppercase flex items-center",e.includes(a.id)?"bg-primary/70 hover:bg-primary text-primary-foreground border border-primary/30":"bg-secondary/70 hover:bg-secondary text-secondary-foreground border border-border/50"),onClick:()=>x(a.id),children:[(0,s.jsx)(b,{className:"h-3.5 w-3.5 mr-1.5"}),a.name]},a.id))})})]}),(0,s.jsxs)(h.Zp,{className:"tactical-card",children:[(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"text-sm font-medium flex items-center",children:[(0,s.jsx)(N,{className:"h-4 w-4 mr-2"})," MISSION DATA"]})}),(0,s.jsx)(h.Wu,{className:"p-4",children:(0,s.jsxs)("div",{className:"tech-text text-sm flex flex-col space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center border border-border/50 bg-secondary/30 px-3 py-1.5 rounded-sm",children:[(0,s.jsx)("span",{className:"mr-2 inline-block w-2 h-2 rounded-full bg-primary"}),(0,s.jsx)("span",{children:"Displaying last 3 missions for each drone"})]}),(0,s.jsxs)("div",{className:"flex items-center border border-border/50 bg-secondary/30 px-3 py-1.5 rounded-sm",children:[(0,s.jsx)("span",{className:"mr-2 inline-block w-2 h-2 rounded-full bg-yellow-500"}),(0,s.jsx)("span",{children:"All routes start/end at 8450 Central Ave, Newark, CA"})]})]})})]})]}),e.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:e.map(e=>{let a=t.find(a=>a.id===e),r=n[e],l=g(e),i=u(e);return a&&r?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(h.Zp,{className:"tactical-card",children:(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"flex justify-between items-center text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[l?(0,s.jsx)("div",{className:"hex-status bg-warning mr-2 animate-pulse"}):(0,s.jsx)("div",{className:"hex-status bg-green-500 mr-2"}),(0,s.jsxs)("span",{className:"uppercase tech-text font-medium tracking-wide",children:[a.name," [",a.location,"]"]})]}),(0,s.jsx)("div",{className:"tech-text flex items-center text-xs",children:l&&(0,s.jsxs)("div",{className:"flex items-center mr-3 bg-warning/20 px-2 py-0.5 rounded-sm border border-warning/40",children:[(0,s.jsx)(v,{className:"h-3.5 w-3.5 text-warning mr-1.5"}),(0,s.jsx)("span",{className:"text-warning",children:"ALERT"})]})})]})})}),(0,s.jsxs)(h.Zp,{className:"tactical-card",children:[(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"text-sm font-medium flex items-center",children:[(0,s.jsx)(b,{className:"h-4 w-4 mr-2"})," FLIGHT PATH"]})}),(0,s.jsx)(h.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"h-64 w-full",children:(0,s.jsx)(k,{flightPath:r.flightPath,abnormalLocations:i,droneName:a.name})})})]}),(0,s.jsxs)(h.Zp,{className:"tactical-card",children:[(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"text-sm font-medium flex items-center",children:[(0,s.jsx)(y,{className:"h-4 w-4 mr-2"})," POWER SYSTEMS"]})}),(0,s.jsx)(h.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"h-60 w-full p-2 bg-secondary/10",children:(0,s.jsx)(M.A,{data:r.voltageHeatData,thresholds:{voltage:30,heat:70}})})})]}),(0,s.jsxs)(h.Zp,{className:"tactical-card",children:[(0,s.jsx)(h.aR,{className:"pb-2 border-b border-border/40",children:(0,s.jsxs)(h.ZB,{className:"text-sm font-medium flex items-center",children:[(0,s.jsx)(f,{className:"h-4 w-4 mr-2"})," STABILITY ANALYSIS"]})}),(0,s.jsx)(h.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"h-60 w-full p-2 bg-secondary/10",children:(0,s.jsx)(D.A,{data:r.stabilityData})})})]})]},e):null})})]}),(0,s.jsx)("footer",{className:"border-t border-border/40 py-3 px-6",children:(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground",children:[(0,s.jsx)("div",{children:"NIGHTINGALE DRONE MANAGEMENT SYSTEM"}),(0,s.jsxs)("div",{className:"tech-text",children:["v1.3.0-tactical // ",(0,s.jsx)("span",{className:"text-primary",children:"SECURE CONNECTION"})]})]})})]})}}}]);